<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title class="header-title">Iniciar sesión</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="login-content">
  <div class="login-container">
    <ion-item lines="none" class="input-item">
      <ion-label position="floating">Email</ion-label>
      <ion-input type="email" required [(ngModel)]="user.email"></ion-input>
    </ion-item>

    <ion-item lines="none" class="input-item">
      <ion-label position="floating">Contraseña</ion-label>
      <ion-input type="password" required [(ngModel)]="user.password"></ion-input>
    </ion-item>

    <ion-button expand="block" color="primary" class="action-button" (click)="login(user)">
      Acceder
    </ion-button>
    <ion-button expand="block" fill="outline" color="medium" class="action-button" [routerLink]="['/register']">
      Registrarse
    </ion-button>

    <ion-button fill="clear" color="tertiary" class="forgot-password-button" (click)="showResetPasswordModal = true">
      ¿Olvidaste tu contraseña?
    </ion-button>
  </div>

  <ion-modal [isOpen]="showResetPasswordModal" (didDismiss)="showResetPasswordModal = false">
    <ng-template>
      <ion-header>
        <ion-toolbar color="secondary">
          <ion-title class="header-title">Recuperar Contraseña</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="showResetPasswordModal = false">Cerrar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content>
        <div class="reset-container">
          <ion-item lines="none" class="input-item">
            <ion-label position="floating">Correo Electrónico</ion-label>
            <ion-input type="email" [(ngModel)]="resetEmail"></ion-input>
          </ion-item>
          <ion-item lines="none" class="input-item">
            <ion-label position="floating">Nueva Contraseña</ion-label>
            <ion-input type="password" [(ngModel)]="newPassword"></ion-input>
          </ion-item>
          <ion-button expand="block" color="secondary" class="action-button" (click)="resetPassword()">
            Recuperar Contraseña
          </ion-button>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
