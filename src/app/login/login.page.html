<ion-header [translucent]="true">
  <ion-toolbar color="info">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>Iniciar sesión</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-item>
    <ion-label position="floating">Email</ion-label>
    <ion-input type="email" required [(ngModel)]="user.email"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Contraseña</ion-label>
    <ion-input type="password" required [(ngModel)]="user.password"></ion-input>
  </ion-item>

  <ion-button class="ion-padding" color="primary" (click)="login(user)">Acceder</ion-button>
  <ion-button class="ion-padding" color="light" [routerLink]="['/register']">Registrarse</ion-button>

  <!-- Botón para mostrar el modal de recuperación de contraseña -->
  <ion-button class="ion-padding" color="tertiary" (click)="showResetPasswordModal = true">¿Olvidaste tu contraseña?</ion-button>

  <!-- Modal para recuperar la contraseña -->
  <ion-modal [isOpen]="showResetPasswordModal" (didDismiss)="showResetPasswordModal = false">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-back-button defaultHref="/login"></ion-back-button>
          </ion-buttons>
          <ion-title>Recuperar Contraseña</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="showResetPasswordModal = false">Cerrar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content>
        <ion-item>
          <ion-label position="floating">Correo Electrónico</ion-label>
          <ion-input type="email" [(ngModel)]="resetEmail"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Nueva Contraseña</ion-label>
          <ion-input type="password" [(ngModel)]="newPassword"></ion-input>
        </ion-item>
        <ion-button expand="full" (click)="resetPassword()">Recuperar Contraseña</ion-button>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>